# Define the server block responsible for handling HTTP requests
server {
    # Specify the port on which Nginx will listen for requests
    listen 80;
    # Configure handling for requests to the root route "/"
    location / {
        # Pass requests to the Django backend server running on port 8000 in the container named "django"
        proxy_pass http://django_app:8000;
        # Set the Host header to match the original domain name sent by the client
        proxy_set_header Host $host;
        # Set the X-Real-IP header to forward the client's real IP address to Django
        proxy_set_header X-Real-IP $remote_addr;
        # Set the X-Forwarded-For header to forward the client's IP and the IPs of any proxies
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
