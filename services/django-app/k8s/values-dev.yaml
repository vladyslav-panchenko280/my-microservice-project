replicaCount: 1

image:
  repository: 625041985844.dkr.ecr.us-east-1.amazonaws.com/es-ecr-dev
  pullPolicy: Always
  tag: "django-dev"

service:
  type: NodePort
  port: 8000

ingress:
  enabled: false

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

autoscaling:
  enabled: false

prometheus:
  serviceMonitor:
    enabled: true
    interval: 30s
    path: /metrics

configMap:
  data:
    DJANGO_SETTINGS_MODULE: django_app.settings
    DEBUG: "True"
    ENVIRONMENT: dev
    ALLOWED_HOSTS: "*" 

env: []

database:
  secretName: django-db-credentials

nginx:
  enabled: true
  image:
    repository: nginx
    tag: "1.25-alpine"
  config: |
    server {
      listen 80;
      server_name _;

      location / {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      }

      location /static/ {
        alias /app/staticfiles/;
      }
    }

